shadow$provide.module$node_modules$react_simple_keyboard$build$index=function(global,require,module,exports){!function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e(require("module$node_modules$react$index")):"function"===typeof define&&define.amd?define("ReactSimpleKeyboard",["react"],e):"object"===typeof exports?exports.ReactSimpleKeyboard=e(require("module$node_modules$react$index")):t.ReactSimpleKeyboard=e(t.React)}(window,function(t$jscomp$4){return function(t$jscomp$0){function __webpack_require__(n){if(e$jscomp$1[n])return e$jscomp$1[n].exports;
var o=e$jscomp$1[n]={i:n,l:!1,exports:{}};return t$jscomp$0[n].call(o.exports,o,o.exports,__webpack_require__),o.l=!0,o.exports}var e$jscomp$1={};return __webpack_require__.m=t$jscomp$0,__webpack_require__.c=e$jscomp$1,__webpack_require__.d=function(t,e,n){__webpack_require__.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},__webpack_require__.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});Object.defineProperty(t,
"__esModule",{value:!0})},__webpack_require__.t=function(t,e$jscomp$0){if((1&e$jscomp$0&&(t=__webpack_require__(t)),8&e$jscomp$0)||4&e$jscomp$0&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(__webpack_require__.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e$jscomp$0&&"string"!=typeof t)for(var o in t)__webpack_require__.d(n,o,function(e){return t[e]}.bind(null,o));return n},__webpack_require__.n=function(t){var e=t&&t.__esModule?function(){return t.default}:
function(){return t};return __webpack_require__.d(e,"a",e),e},__webpack_require__.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=2)}([function(e,n){e.exports=t$jscomp$4},function(t$jscomp$3,e$jscomp$5,n$jscomp$3){(function(t$jscomp$2){var i$jscomp$2,s$jscomp$1,a$jscomp$0=n$jscomp$3(4);window;var r$jscomp$0=function(){return function(t$jscomp$0){function __webpack_require__(n){if(e$jscomp$1[n])return e$jscomp$1[n].exports;
var o=e$jscomp$1[n]={i:n,l:!1,exports:{}};return t$jscomp$0[n].call(o.exports,o,o.exports,__webpack_require__),o.l=!0,o.exports}var e$jscomp$1={};return __webpack_require__.m=t$jscomp$0,__webpack_require__.c=e$jscomp$1,__webpack_require__.d=function(t,e,n){__webpack_require__.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},__webpack_require__.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});Object.defineProperty(t,
"__esModule",{value:!0})},__webpack_require__.t=function(t,e$jscomp$0){if((1&e$jscomp$0&&(t=__webpack_require__(t)),8&e$jscomp$0)||4&e$jscomp$0&&"object"===a$jscomp$0(t)&&t&&t.__esModule)return t;var n=Object.create(null);if(__webpack_require__.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e$jscomp$0&&"string"!=typeof t)for(var o in t)__webpack_require__.d(n,o,function(e){return t[e]}.bind(null,o));return n},__webpack_require__.n=function(t){var e=t&&t.__esModule?function(){return t.default}:
function(){return t};return __webpack_require__.d(e,"a",e),e},__webpack_require__.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=0)}([function(t,e,n){t.exports=n(2)},function(t,e,n){},function(t$jscomp$1,e$jscomp$4,n$jscomp$2){function _typeof(t$jscomp$0){return(_typeof="function"===typeof Symbol&&"symbol"===a$jscomp$0(Symbol.iterator)?function(t){return a$jscomp$0(t)}:function(t){return t&&"function"===typeof Symbol&&
t.constructor===Symbol&&t!==Symbol.prototype?"symbol":a$jscomp$0(t)})(t$jscomp$0)}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1;o.configurable=!0;"value"in o&&(o.writable=!0);Object.defineProperty(t,o.key,o)}}function PhysicalKeyboard_defineProperties(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1;o.configurable=!0;"value"in o&&(o.writable=!0);Object.defineProperty(t,o.key,o)}}function KeyboardLayout_defineProperties(t,
e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1;o.configurable=!0;"value"in o&&(o.writable=!0);Object.defineProperty(t,o.key,o)}}function _toConsumableArray(t$jscomp$0){if(!(t$jscomp$0=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t$jscomp$0)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t$jscomp$0)))throw new TypeError("Invalid attempt to spread non-iterable instance");
return t$jscomp$0}function Keyboard_typeof(t$jscomp$0){return(Keyboard_typeof="function"===typeof Symbol&&"symbol"===a$jscomp$0(Symbol.iterator)?function(t){return a$jscomp$0(t)}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":a$jscomp$0(t)})(t$jscomp$0)}function Keyboard_defineProperties(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1;o.configurable=!0;"value"in o&&(o.writable=!0);Object.defineProperty(t,o.key,o)}}
function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n$jscomp$2.r(e$jscomp$4);n$jscomp$2(1);var o$jscomp$1=function(){function Utilities(t){var e=t.getOptions,n=t.getCaretPosition;t=t.dispatch;if(!(this instanceof Utilities))throw new TypeError("Cannot call a class as a function");!0;this.getOptions=e;this.getCaretPosition=n;this.dispatch=t;Utilities.bindMethods(Utilities,this)}var e$jscomp$0,n$jscomp$0;return n$jscomp$0=
[{key:"bindMethods",value:function(t,e){var n=!0,o=!1,i=void 0;try{for(var s,r=Object.getOwnPropertyNames(t.prototype)[Symbol.iterator]();!(n=(s=r.next()).done);n=!0){var a=s.value;"constructor"===a||"bindMethods"===a||(e[a]=e[a].bind(e))}}catch(u){o=!0,i=u}finally{try{n||null==r.return||r.return()}finally{if(o)throw i;}}}}],e$jscomp$0=[{key:"getButtonClass",value:function(t){var e=t.includes("{")&&t.includes("}")&&"{//}"!==t?"functionBtn":"standardBtn";t=t.replace("{","").replace("}","");var o="";
return"standardBtn"!==e&&(o=" hg-button-".concat(t)),"hg-".concat(e).concat(o)}},{key:"getDefaultDiplay",value:function(){return{"{bksp}":"backspace","{backspace}":"backspace","{enter}":"\x3c enter","{shift}":"shift","{shiftleft}":"shift","{shiftright}":"shift","{alt}":"alt","{s}":"shift","{tab}":"tab","{lock}":"caps","{capslock}":"caps","{accept}":"Submit","{space}":" ","{//}":" ","{esc}":"esc","{escape}":"esc","{f1}":"f1","{f2}":"f2","{f3}":"f3","{f4}":"f4","{f5}":"f5","{f6}":"f6","{f7}":"f7","{f8}":"f8",
"{f9}":"f9","{f10}":"f10","{f11}":"f11","{f12}":"f12","{numpaddivide}":"/","{numlock}":"lock","{arrowup}":"↑","{arrowleft}":"←","{arrowdown}":"↓","{arrowright}":"→","{prtscr}":"print","{scrolllock}":"scroll","{pause}":"pause","{insert}":"ins","{home}":"home","{pageup}":"up","{delete}":"del","{end}":"end","{pagedown}":"down","{numpadmultiply}":"*","{numpadsubtract}":"-","{numpadadd}":"+","{numpadenter}":"enter","{period}":".","{numpaddecimal}":".","{numpad0}":"0","{numpad1}":"1","{numpad2}":"2","{numpad3}":"3",
"{numpad4}":"4","{numpad5}":"5","{numpad6}":"6","{numpad7}":"7","{numpad8}":"8","{numpad9}":"9"}}},{key:"getButtonDisplayName",value:function(t,e,n){return(n?Object.assign({},this.getDefaultDiplay(),e):e||this.getDefaultDiplay())[t]||t}},{key:"getUpdatedInput",value:function(t,e,n,o){var i=this.getOptions();return("{bksp}"===t||"{backspace}"===t)&&0<e.length?e=this.removeAt(e,n,o):"{space}"===t?e=this.addStringAt(e," ",n,o):"{tab}"!==t||"boolean"===typeof i.tabCharOnTab&&!1===i.tabCharOnTab?"{enter}"!==
t&&"{numpadenter}"!==t||!i.newLineOnEnter?t.includes("numpad")&&Number.isInteger(Number(t[t.length-2]))?e=this.addStringAt(e,t[t.length-2],n,o):"{numpaddivide}"===t?e=this.addStringAt(e,"/",n,o):"{numpadmultiply}"===t?e=this.addStringAt(e,"*",n,o):"{numpadsubtract}"===t?e=this.addStringAt(e,"-",n,o):"{numpadadd}"===t?e=this.addStringAt(e,"+",n,o):"{numpaddecimal}"===t?e=this.addStringAt(e,".",n,o):"{"===t||"}"===t?e=this.addStringAt(e,t,n,o):t.includes("{")||t.includes("}")||(e=this.addStringAt(e,
t,n,o)):e=this.addStringAt(e,"\n",n,o):e=this.addStringAt(e,"\t",n,o),e}},{key:"updateCaretPos",value:function(t$jscomp$0,e){var n=this.updateCaretPosAction(t$jscomp$0,e);this.dispatch(function(t){t.caretPosition=n})}},{key:"updateCaretPosAction",value:function(t,e){var n=this.getOptions(),o=this.getCaretPosition();return e?0<o&&(o-=t):o+=t,n.debug&&console.log("Caret at:",o,"(".concat(this.keyboardDOMClass,")")),o}},{key:"addStringAt",value:function(t,e,n,o){var i;return n||0===n?(i=[t.slice(0,n),
e,t.slice(n)].join(""),this.isMaxLengthReached()||o&&this.updateCaretPos(e.length)):i=t+e,i}},{key:"removeAt",value:function(t,e,n){var o;if(0===this.getCaretPosition())return t;var i=/([\uD800-\uDBFF][\uDC00-\uDFFF])/g;return e&&0<=e?t.substring(e-2,e).match(i)?(o=t.substr(0,e-2)+t.substr(e),n&&this.updateCaretPos(2,!0)):(o=t.substr(0,e-1)+t.substr(e),n&&this.updateCaretPos(1,!0)):t.slice(-2).match(i)?(o=t.slice(0,-2),n&&this.updateCaretPos(2,!0)):(o=t.slice(0,-1),n&&this.updateCaretPos(1,!0)),o}},
{key:"handleMaxLength",value:function(t,e){var n=this.getOptions(),o=n.maxLength;t=t[n.inputName];var s=e.length-1>=o;if(e.length<=t.length)return!1;if(Number.isInteger(o))return n.debug&&console.log("maxLength (num) reached:",s),s?(this.maxLengthReached=!0,!0):(this.maxLengthReached=!1,!1);if("object"===_typeof(o))return e=t.length===o[n.inputName],n.debug&&console.log("maxLength (obj) reached:",e),e?(this.maxLengthReached=!0,!0):(this.maxLengthReached=!1,!1)}},{key:"isMaxLengthReached",value:function(){return!!this.maxLengthReached}},
{key:"isTouchDevice",value:function(){return"ontouchstart"in window||navigator.maxTouchPoints}},{key:"pointerEventsSupported",value:function(){return window.PointerEvent}},{key:"camelCase",value:function(t$jscomp$0){return!!t$jscomp$0&&t$jscomp$0.toLowerCase().trim().split(/[.\-_\s]/g).reduce(function(t,e){return e.length?t+e[0].toUpperCase()+e.slice(1):t})}}],_defineProperties(Utilities.prototype,e$jscomp$0),n$jscomp$0&&_defineProperties(Utilities,n$jscomp$0),Utilities}(),i$jscomp$1=function(){function PhysicalKeyboard(t){var e=
t.dispatch;t=t.getOptions;if(!(this instanceof PhysicalKeyboard))throw new TypeError("Cannot call a class as a function");!0;this.dispatch=e;this.getOptions=t;o$jscomp$1.bindMethods(PhysicalKeyboard,this)}var e$jscomp$0;return e$jscomp$0=[{key:"handleHighlightKeyDown",value:function(t$jscomp$0){var e=this.getOptions(),n=this.getSimpleKeyboardLayoutKey(t$jscomp$0);this.dispatch(function(t){(t=t.getButtonElement(n)||t.getButtonElement("{".concat(n,"}")))&&(t.style.backgroundColor=e.physicalKeyboardHighlightBgColor||
"#9ab4d0",t.style.color=e.physicalKeyboardHighlightTextColor||"white")})}},{key:"handleHighlightKeyUp",value:function(t$jscomp$0){var e=this.getSimpleKeyboardLayoutKey(t$jscomp$0);this.dispatch(function(t){(t=t.getButtonElement(e)||t.getButtonElement("{".concat(e,"}")))&&t.removeAttribute&&t.removeAttribute("style")})}},{key:"getSimpleKeyboardLayoutKey",value:function(t){var e;return((e=t.code.includes("Numpad")||t.code.includes("Shift")||t.code.includes("Space")||t.code.includes("Backspace")||t.code.includes("Control")||
t.code.includes("Alt")||t.code.includes("Meta")?t.code:t.key)!==e.toUpperCase()||"F"===t.code[0]&&Number.isInteger(Number(t.code[1]))&&3>=t.code.length)&&(e=e.toLowerCase()),e}}],PhysicalKeyboard_defineProperties(PhysicalKeyboard.prototype,e$jscomp$0),PhysicalKeyboard}(),s$jscomp$0=function(){function KeyboardLayout(){if(!(this instanceof KeyboardLayout))throw new TypeError("Cannot call a class as a function");!0}var e;return e=[{key:"getDefaultLayout",value:function(){return{default:["` 1 2 3 4 5 6 7 8 9 0 - \x3d {bksp}",
"{tab} q w e r t y u i o p [ ] \\","{lock} a s d f g h j k l ; ' {enter}","{shift} z x c v b n m , . / {shift}",".com @ {space}"],shift:["~ ! @ # $ % ^ \x26 * ( ) _ + {bksp}","{tab} Q W E R T Y U I O P { } |",'{lock} A S D F G H J K L : " {enter}',"{shift} Z X C V B N M \x3c \x3e ? {shift}",".com @ {space}"]}}}],KeyboardLayout_defineProperties(KeyboardLayout,e),KeyboardLayout}();t$jscomp$1=function(){function SimpleKeyboard(){var t=this;if(!(this instanceof SimpleKeyboard))throw new TypeError("Cannot call a class as a function");
!0;_defineProperty(this,"getOptions",function(){return t.options});_defineProperty(this,"getCaretPosition",function(){return t.caretPosition});_defineProperty(this,"registerModule",function(e,n){t.modules[e]||(t.modules[e]={});n(t.modules[e])});var e$jscomp$0="string"===typeof(0>=arguments.length?void 0:arguments[0])?0>=arguments.length?void 0:arguments[0]:".simple-keyboard",n$jscomp$0="object"===Keyboard_typeof(0>=arguments.length?void 0:arguments[0])?0>=arguments.length?void 0:arguments[0]:1>=arguments.length?
void 0:arguments[1];if(n$jscomp$0||(n$jscomp$0={}),this.utilities=new o$jscomp$1({getOptions:this.getOptions,getCaretPosition:this.getCaretPosition,dispatch:this.dispatch}),this.caretPosition=null,this.keyboardDOM=document.querySelector(e$jscomp$0),this.options=n$jscomp$0,this.options.layoutName=this.options.layoutName||"default",this.options.theme=this.options.theme||"hg-theme-default",this.options.inputName=this.options.inputName||"default",this.options.preventMouseDownDefault=this.options.preventMouseDownDefault||
!1,this.keyboardPluginClasses="",o$jscomp$1.bindMethods(SimpleKeyboard,this),this.input={},this.input[this.options.inputName]="",this.keyboardDOMClass=e$jscomp$0.split(".").join(""),this.buttonElements={},window.SimpleKeyboardInstances||(window.SimpleKeyboardInstances={}),this.currentInstanceName=this.utilities.camelCase(this.keyboardDOMClass),window.SimpleKeyboardInstances[this.currentInstanceName]=this,this.allKeyboardInstances=window.SimpleKeyboardInstances,this.keyboardInstanceNames=Object.keys(window.SimpleKeyboardInstances),
this.isFirstKeyboardInstance=this.keyboardInstanceNames[0]===this.currentInstanceName,this.physicalKeyboard=new i$jscomp$1({dispatch:this.dispatch,getOptions:this.getOptions}),!this.keyboardDOM)throw console.warn('"'.concat(e$jscomp$0,'" was not found in the DOM.')),Error("KEYBOARD_DOM_ERROR");this.render();this.modules={};this.loadModules()}var e$jscomp$3;return e$jscomp$3=[{key:"handleButtonClicked",value:function(t){var e=this.options.debug;if("{//}"===t)return!1;"function"===typeof this.options.onKeyPress&&
this.options.onKeyPress(t);this.input[this.options.inputName]||(this.input[this.options.inputName]="");var n=this.utilities.getUpdatedInput(t,this.input[this.options.inputName],this.caretPosition);if(this.input[this.options.inputName]!==n&&(!this.options.inputPattern||this.options.inputPattern&&this.inputPatternIsValid(n))){if(this.options.maxLength&&this.utilities.handleMaxLength(this.input,n))return!1;this.input[this.options.inputName]=this.utilities.getUpdatedInput(t,this.input[this.options.inputName],
this.caretPosition,!0);e&&console.log("Input changed:",this.input);this.options.syncInstanceInputs&&this.syncInstanceInputs();"function"===typeof this.options.onChange&&this.options.onChange(this.input[this.options.inputName]);"function"===typeof this.options.onChangeAll&&this.options.onChangeAll(this.input)}e&&console.log("Key pressed:",t)}},{key:"handleButtonMouseDown",value:function(t,e){var n=this;this.options.preventMouseDownDefault&&e.preventDefault();this.options.stopMouseDownPropagation&&
e.stopPropagation();e&&e.target.classList.add(this.activeButtonClass);this.isMouseHold=!0;this.holdInteractionTimeout&&clearTimeout(this.holdInteractionTimeout);this.holdTimeout&&clearTimeout(this.holdTimeout);this.options.disableButtonHold||(this.holdTimeout=setTimeout(function(){!n.isMouseHold||(t.includes("{")||t.includes("}"))&&"{delete}"!==t&&"{backspace}"!==t&&"{bksp}"!==t&&"{space}"!==t&&"{tab}"!==t||(n.options.debug&&console.log("Button held:",t),n.handleButtonHold(t,e));clearTimeout(n.holdTimeout)},
500))}},{key:"handleButtonMouseUp",value:function(t$jscomp$0){var e=this;this.recurseButtons(function(t){t.classList.remove(e.activeButtonClass)});this.isMouseHold=!1;this.holdInteractionTimeout&&clearTimeout(this.holdInteractionTimeout);t$jscomp$0&&"function"===typeof this.options.onKeyReleased&&this.options.onKeyReleased(t$jscomp$0)}},{key:"handleKeyboardContainerMouseDown",value:function(t){this.options.preventMouseDownDefault&&t.preventDefault()}},{key:"handleButtonHold",value:function(t){var e=
this;this.holdInteractionTimeout&&clearTimeout(this.holdInteractionTimeout);this.holdInteractionTimeout=setTimeout(function(){e.isMouseHold?(e.handleButtonClicked(t),e.handleButtonHold(t)):clearTimeout(e.holdInteractionTimeout)},100)}},{key:"syncInstanceInputs",value:function(){var t=this;this.dispatch(function(e){e.replaceInput(t.input);e.caretPosition=t.caretPosition})}},{key:"clearInput",value:function(t){t=t||this.options.inputName;this.input[t]="";this.caretPosition=0;this.options.syncInstanceInputs&&
this.syncInstanceInputs()}},{key:"getInput",value:function(t){return t=t||this.options.inputName,this.options.syncInstanceInputs&&this.syncInstanceInputs(),this.input[t]}},{key:"setInput",value:function(t,e){e=e||this.options.inputName;this.input[e]=t;this.options.syncInstanceInputs&&this.syncInstanceInputs()}},{key:"replaceInput",value:function(t){this.input=t}},{key:"setOptions",value:function(t){t=t||{};this.options=Object.assign(this.options,t);this.onSetOptions(t);this.render()}},{key:"onSetOptions",
value:function(t){t.inputName&&(this.options.debug&&console.log("inputName changed. caretPosition reset."),this.caretPosition=null)}},{key:"clear",value:function(){this.keyboardDOM.innerHTML="";this.keyboardDOM.className=this.keyboardDOMClass;this.buttonElements={}}},{key:"dispatch",value:function(t){if(!window.SimpleKeyboardInstances)throw console.warn("SimpleKeyboardInstances is not defined. Dispatch cannot be called."),Error("INSTANCES_VAR_ERROR");return Object.keys(window.SimpleKeyboardInstances).forEach(function(e){t(window.SimpleKeyboardInstances[e],
e)})}},{key:"addButtonTheme",value:function(t$jscomp$0,e$jscomp$0){var n$jscomp$0=this;if(!e$jscomp$0||!t$jscomp$0)return!1;t$jscomp$0.split(" ").forEach(function(o){e$jscomp$0.split(" ").forEach(function(e){n$jscomp$0.options.buttonTheme||(n$jscomp$0.options.buttonTheme=[]);var i=!1;n$jscomp$0.options.buttonTheme.map(function(t){if(t.class.split(" ").includes(e)){i=!0;var n=t.buttons.split(" ");n.includes(o)||(i=!0,n.push(o),t.buttons=n.join(" "))}return t});i||n$jscomp$0.options.buttonTheme.push({class:e,
buttons:t$jscomp$0})})});this.render()}},{key:"removeButtonTheme",value:function(t$jscomp$0,e$jscomp$0){var n=this;if(!t$jscomp$0&&!e$jscomp$0)return this.options.buttonTheme=[],this.render(),!1;t$jscomp$0&&Array.isArray(this.options.buttonTheme)&&this.options.buttonTheme.length&&(t$jscomp$0.split(" ").forEach(function(t,o$jscomp$0){n.options.buttonTheme.map(function(o,i){if(e$jscomp$0&&e$jscomp$0.includes(o.class)||!e$jscomp$0){var s=o.buttons.split(" ").filter(function(e){return e!==t});s.length?
o.buttons=s.join(" "):(n.options.buttonTheme.splice(i,1),o=null)}return o})}),this.render())}},{key:"getButtonElement",value:function(t){var e;t=this.buttonElements[t];return t&&(e=1<t.length?t:t[0]),e}},{key:"inputPatternIsValid",value:function(t){var e=this.options.inputPattern;return(e=e instanceof RegExp?e:e[this.options.inputName])&&t?(t=e.test(t),this.options.debug&&console.log('inputPattern ("'.concat(e,'"): ').concat(t?"passed":"did not pass!")),t):!0}},{key:"setEventListeners",value:function(){!this.isFirstKeyboardInstance&&
this.allKeyboardInstances||(this.options.debug&&console.log("Caret handling started (".concat(this.keyboardDOMClass,")")),document.addEventListener("keyup",this.handleKeyUp),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("mouseup",this.handleMouseUp),document.addEventListener("touchend",this.handleTouchEnd))}},{key:"handleKeyUp",value:function(t){this.caretEventHandler(t);this.options.physicalKeyboardHighlight&&this.physicalKeyboard.handleHighlightKeyUp(t)}},{key:"handleKeyDown",
value:function(t){this.options.physicalKeyboardHighlight&&this.physicalKeyboard.handleHighlightKeyDown(t)}},{key:"handleMouseUp",value:function(t){this.caretEventHandler(t)}},{key:"handleTouchEnd",value:function(t){this.caretEventHandler(t)}},{key:"caretEventHandler",value:function(t){var e;t.target.tagName&&(e=t.target.tagName.toLowerCase());this.dispatch(function(n){n.isMouseHold&&(n.isMouseHold=!1);"textarea"!==e&&"input"!==e||n.options.disableCaretPositioning?n.options.disableCaretPositioning&&
(n.caretPosition=null):(n.caretPosition=t.target.selectionStart,n.options.debug&&console.log("Caret at: ",t.target.selectionStart,t.target.tagName.toLowerCase(),"(".concat(n.keyboardDOMClass,")")))})}},{key:"recurseButtons",value:function(t){var e=this;if(!t)return!1;Object.keys(this.buttonElements).forEach(function(n){return e.buttonElements[n].forEach(t)})}},{key:"destroy",value:function(){this.options.debug&&console.log("Destroying simple-keyboard instance: ".concat(this.currentInstanceName));
document.removeEventListener("keyup",this.handleKeyUp);document.removeEventListener("keydown",this.handleKeyDown);document.removeEventListener("mouseup",this.handleMouseUp);document.removeEventListener("touchend",this.handleTouchEnd);document.onpointerup=null;document.ontouchend=null;document.ontouchcancel=null;document.onmouseup=null;var deleteButton=function(t){t.onpointerdown=null;t.onpointerup=null;t.onpointercancel=null;t.ontouchstart=null;t.ontouchend=null;t.ontouchcancel=null;t.onclick=null;
t.onmousedown=null;t.onmouseup=null;t.remove()};this.recurseButtons(deleteButton);deleteButton=this.recurseButtons=null;this.keyboardDOM.onpointerdown=null;this.keyboardDOM.ontouchstart=null;this.keyboardDOM.onmousedown=null;this.clear();window.SimpleKeyboardInstances[this.currentInstanceName]=null;delete window.SimpleKeyboardInstances[this.currentInstanceName];this.initialized=!1}},{key:"getButtonThemeClasses",value:function(t){var e$jscomp$0=this.options.buttonTheme,n=[];return Array.isArray(e$jscomp$0)&&
e$jscomp$0.forEach(function(e){if(e.class&&"string"===typeof e.class&&e.buttons&&"string"===typeof e.buttons){var o=e.class.split(" ");e.buttons.split(" ").includes(t)&&(n=[].concat(_toConsumableArray(n),_toConsumableArray(o)))}else console.warn('Incorrect "buttonTheme". Please check the documentation.',e)}),n}},{key:"setDOMButtonAttributes",value:function(t,e){var n$jscomp$0=this.options.buttonAttributes;Array.isArray(n$jscomp$0)&&n$jscomp$0.forEach(function(n){n.attribute&&"string"===typeof n.attribute&&
n.value&&"string"===typeof n.value&&n.buttons&&"string"===typeof n.buttons?n.buttons.split(" ").includes(t)&&e(n.attribute,n.value):console.warn('Incorrect "buttonAttributes". Please check the documentation.',n)})}},{key:"onTouchDeviceDetected",value:function(){this.processAutoTouchEvents();this.disableContextualWindow()}},{key:"disableContextualWindow",value:function(){window.oncontextmenu=function(t){if(t.target.classList.contains("hg-button"))return t.preventDefault(),t.stopPropagation(),!1}}},
{key:"processAutoTouchEvents",value:function(){this.options.autoUseTouchEvents&&(this.options.useTouchEvents=!0,this.options.debug&&console.log("autoUseTouchEvents: Touch device detected, useTouchEvents enabled."))}},{key:"onInit",value:function(){this.options.debug&&console.log("".concat(this.keyboardDOMClass," Initialized"));this.setEventListeners();"function"===typeof this.options.onInit&&this.options.onInit()}},{key:"beforeFirstRender",value:function(){this.utilities.isTouchDevice()&&this.onTouchDeviceDetected();
"function"===typeof this.options.beforeFirstRender&&this.options.beforeFirstRender();this.isFirstKeyboardInstance&&this.utilities.pointerEventsSupported()&&!this.options.useTouchEvents&&!this.options.useMouseEvents&&this.options.debug&&console.log("Using PointerEvents as it is supported by this browser");this.options.useTouchEvents&&this.options.debug&&console.log("useTouchEvents has been enabled. Only touch events will be used.")}},{key:"beforeRender",value:function(){"function"===typeof this.options.beforeRender&&
this.options.beforeRender()}},{key:"onRender",value:function(){"function"===typeof this.options.onRender&&this.options.onRender()}},{key:"onModulesLoaded",value:function(){"function"===typeof this.options.onModulesLoaded&&this.options.onModulesLoaded()}},{key:"loadModules",value:function(){var t=this;Array.isArray(this.options.modules)&&(this.options.modules.forEach(function(e){e=new e;if(e.constructor.name&&"Function"!==e.constructor.name){var o="module-".concat(t.utilities.camelCase(e.constructor.name));
t.keyboardPluginClasses+=" ".concat(o)}e.init(t)}),this.keyboardPluginClasses+=" modules-loaded",this.render(),this.onModulesLoaded())}},{key:"getModuleProp",value:function(t,e){return!!this.modules[t]&&this.modules[t][e]}},{key:"getModulesList",value:function(){return Object.keys(this.modules)}},{key:"parseRowDOMContainers",value:function(t$jscomp$0,e$jscomp$0,n$jscomp$0,o){var i=this,s=Array.from(t$jscomp$0.children),r=0;return s.length&&n$jscomp$0.forEach(function(n,a){var u=o[a];if(!(u&&u>n))return!1;
n-=r;u-=r;var p=document.createElement("div");p.className+="hg-button-container";a="".concat(i.options.layoutName,"-r").concat(e$jscomp$0,"c").concat(a);p.setAttribute("data-skUID",a);a=s.splice(n,u-n+1);r=u-n;a.forEach(function(t){return p.appendChild(t)});s.splice(n,0,p);t$jscomp$0.innerHTML="";s.forEach(function(e){return t$jscomp$0.appendChild(e)});i.options.debug&&console.log("rowDOMContainer",a,n,u,r+1)}),t$jscomp$0}},{key:"render",value:function(){var t$jscomp$0=this;this.clear();this.initialized||
this.beforeFirstRender();this.beforeRender();var e$jscomp$2="hg-layout-".concat(this.options.layoutName),n$jscomp$1=this.options.layout||s$jscomp$0.getDefaultLayout(),o=this.options.useTouchEvents||!1,i$jscomp$0=o?"hg-touch-events":"",r=this.options.useMouseEvents||!1,a=this.options.disableRowButtonContainers;this.keyboardDOM.className+=" ".concat(this.options.theme," ").concat(e$jscomp$2," ").concat(this.keyboardPluginClasses," ").concat(i$jscomp$0);n$jscomp$1[this.options.layoutName].forEach(function(e$jscomp$1,
n$jscomp$0){e$jscomp$1=e$jscomp$1.split(" ");var s=document.createElement("div");s.className+="hg-row";var u=[],c=[];e$jscomp$1.forEach(function(e$jscomp$0,i){var l,p=!a&&e$jscomp$0.includes("[")&&1<e$jscomp$0.length,d=!a&&e$jscomp$0.includes("]")&&1<e$jscomp$0.length;p&&(u.push(i),e$jscomp$0=e$jscomp$0.replace(/\[/g,""));d&&(c.push(i),e$jscomp$0=e$jscomp$0.replace(/\]/g,""));d=t$jscomp$0.utilities.getButtonClass(e$jscomp$0);p=t$jscomp$0.utilities.getButtonDisplayName(e$jscomp$0,t$jscomp$0.options.display,
t$jscomp$0.options.mergeDisplay);var b=document.createElement(t$jscomp$0.options.useButtonTag?"button":"div");b.className+="hg-button ".concat(d);(l=b.classList).add.apply(l,_toConsumableArray(t$jscomp$0.getButtonThemeClasses(e$jscomp$0)));t$jscomp$0.setDOMButtonAttributes(e$jscomp$0,function(t,e){b.setAttribute(t,e)});t$jscomp$0.activeButtonClass="hg-activeButton";!t$jscomp$0.utilities.pointerEventsSupported()||o||r?o?(b.ontouchstart=function(n){t$jscomp$0.handleButtonClicked(e$jscomp$0);t$jscomp$0.handleButtonMouseDown(e$jscomp$0,
n)},b.ontouchend=function(){t$jscomp$0.handleButtonMouseUp(e$jscomp$0)},b.ontouchcancel=function(){t$jscomp$0.handleButtonMouseUp(e$jscomp$0)}):(b.onclick=function(){t$jscomp$0.isMouseHold=!1;t$jscomp$0.handleButtonClicked(e$jscomp$0)},b.onmousedown=function(n){t$jscomp$0.handleButtonMouseDown(e$jscomp$0,n)},b.onmouseup=function(){t$jscomp$0.handleButtonMouseUp(e$jscomp$0)}):(b.onpointerdown=function(n){t$jscomp$0.handleButtonClicked(e$jscomp$0);t$jscomp$0.handleButtonMouseDown(e$jscomp$0,n)},b.onpointerup=
function(){t$jscomp$0.handleButtonMouseUp(e$jscomp$0)},b.onpointercancel=function(){t$jscomp$0.handleButtonMouseUp(e$jscomp$0)});b.setAttribute("data-skBtn",e$jscomp$0);i="".concat(t$jscomp$0.options.layoutName,"-r").concat(n$jscomp$0,"b").concat(i);b.setAttribute("data-skBtnUID",i);i=document.createElement("span");i.innerHTML=p;b.appendChild(i);t$jscomp$0.buttonElements[e$jscomp$0]||(t$jscomp$0.buttonElements[e$jscomp$0]=[]);t$jscomp$0.buttonElements[e$jscomp$0].push(b);s.appendChild(b)});s=t$jscomp$0.parseRowDOMContainers(s,
n$jscomp$0,u,c);t$jscomp$0.keyboardDOM.appendChild(s)});this.onRender();this.initialized||(this.initialized=!0,!this.utilities.pointerEventsSupported()||o||r?o?(document.ontouchend=function(){return t$jscomp$0.handleButtonMouseUp()},document.ontouchcancel=function(){return t$jscomp$0.handleButtonMouseUp()},this.keyboardDOM.ontouchstart=function(e){return t$jscomp$0.handleKeyboardContainerMouseDown(e)}):o||(document.onmouseup=function(){return t$jscomp$0.handleButtonMouseUp()},this.keyboardDOM.onmousedown=
function(e){return t$jscomp$0.handleKeyboardContainerMouseDown(e)}):(document.onpointerup=function(){return t$jscomp$0.handleButtonMouseUp()},this.keyboardDOM.onpointerdown=function(e){return t$jscomp$0.handleKeyboardContainerMouseDown(e)}),this.onInit())}}],Keyboard_defineProperties(SimpleKeyboard.prototype,e$jscomp$3),SimpleKeyboard}();e$jscomp$4.default=t$jscomp$1}])};"object"===a$jscomp$0(e$jscomp$5)&&"object"===a$jscomp$0(t$jscomp$2)?t$jscomp$2.exports=r$jscomp$0():(i$jscomp$2=[],void 0===(s$jscomp$1=
"function"===typeof r$jscomp$0?r$jscomp$0.apply(e$jscomp$5,i$jscomp$2):r$jscomp$0)||(t$jscomp$2.exports=s$jscomp$1))}).call(this,n$jscomp$3(3)(t$jscomp$3))},function(t,e,n){t.exports=n(6)},function(t$jscomp$0,e){t$jscomp$0.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=
1),t}},function(t$jscomp$1,e$jscomp$0){function _typeof2(t$jscomp$0){return(_typeof2="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t$jscomp$0)}function _typeof(e){return"function"===typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?t$jscomp$1.exports=_typeof=function(t){return _typeof2(t)}:t$jscomp$1.exports=_typeof=function(t){return t&&
"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof2(t)},_typeof(e)}t$jscomp$1.exports=_typeof},function(t,e,n){},function(t$jscomp$1,e$jscomp$1,n$jscomp$1){function ownKeys(t,e$jscomp$0){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e$jscomp$0&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}));n.push.apply(n,o)}return n}function _objectSpread(t){for(var e$jscomp$0=1;e$jscomp$0<arguments.length;e$jscomp$0++){var n$jscomp$0=
null!=arguments[e$jscomp$0]?arguments[e$jscomp$0]:{};e$jscomp$0%2?ownKeys(Object(n$jscomp$0),!0).forEach(function(e){var n=n$jscomp$0[e];e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n$jscomp$0)):ownKeys(Object(n$jscomp$0)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n$jscomp$0,e))})}return t}n$jscomp$1.r(e$jscomp$1);var o$jscomp$0=
n$jscomp$1(0),i=n$jscomp$1.n(o$jscomp$0);t$jscomp$1=n$jscomp$1(1);var r=n$jscomp$1.n(t$jscomp$1),parseProps=function(t){return _objectSpread({},t,{theme:"simple-keyboard ".concat(t.theme||"hg-theme-default")})};n$jscomp$1=(n$jscomp$1(5),function(t$jscomp$0){var e=t$jscomp$0.baseClass||"react-simple-keyboard",n=Object(o$jscomp$0.useRef)(),s=Object(o$jscomp$0.useRef)(),a=Object(o$jscomp$0.useRef)(t$jscomp$0);return Object(o$jscomp$0.useEffect)(function(){n.current||(n.current=!0,t$jscomp$0.debug&&console.log("ReactSimpleKeyboard: Init"),
s.current=new r.a(".".concat(e),parseProps(t$jscomp$0)),t$jscomp$0.keyboardRef&&t$jscomp$0.keyboardRef(s.current));var t=a.current;JSON.stringify(_objectSpread({},t$jscomp$0,{stateToIgnore:null}))!==JSON.stringify(_objectSpread({},t,{stateToIgnore:null}))&&(t=s.current,a.current=t$jscomp$0,t.setOptions(parseProps(t$jscomp$0)),t$jscomp$0.debug&&console.log("ReactSimpleKeyboard: Rendered"))},[n,e,a,t$jscomp$0]),i.a.createElement("div",{className:e})});e$jscomp$1.default=n$jscomp$1}])})}
//# sourceMappingURL=module$node_modules$react_simple_keyboard$build$index.js.map
